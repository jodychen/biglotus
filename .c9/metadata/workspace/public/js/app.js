{"changed":true,"filter":false,"title":"app.js","tooltip":"/public/js/app.js","value":"/**\n * Created by jodychen on 11/22/14.\n */\n\n// merry christmas, andy's learning git basics\n\nvar myApp = angular.module('myApp',  ['ngRoute', 'ui.bootstrap', 'uiGmapgoogle-maps']);\n\nmyApp\n    .config(function($routeProvider) {\n        $routeProvider\n            .when('/', {\n                templateUrl: 'html/login.html',\n                controller: 'authentication'\n            })\n            .when('/map', {\n                templateUrl: 'html/map.html',\n                // controller: 'showMap'\n                // controller: 'zipCodeCtrl'\n                controller: 'geoCtrl'\n            })\n            .when('/detail/:projId', {\n                templateUrl: 'html/detail-ang.html',\n                controller: 'projectListCtrl'\n            })\n            .otherwise({\n                redirectTo: '/'\n            });\n        console.log('end of config function');\n        })\n    .config(function(uiGmapGoogleMapApiProvider) {\n        uiGmapGoogleMapApiProvider.configure({\n            key: 'AIzaSyCfKe-nvx2gcpQDBlTjLXCQ8TerMHHV0Vw',\n            v: '3.17',\n            libraries: 'weather,geometry,visualization'\n        });\n    })\n    .config(function(GeolocationServiceProvider) {\n        ;\n    })\n    .controller('navCtrl', function ($scope, $log) {\n        $log.log('within nav function');\n        $scope.isCollapsed = true;\n    })\n    .controller('authentication', function ($scope, $routeParams) {\n        $scope.params = $routeParams;\n    })\n    .controller('showMap', function ($scope, $routeParams, uiGmapGoogleMapApi) {\n        $scope.params = $routeParams;\n        $scope.map = { center: { latitude: 40.742683, longitude: -73.873578 }, zoom: 16 };\n        $scope.marker = {\n            id: 1,\n            coords: {\n                latitude: 40.742683,\n                longitude: -73.873578\n            },\n            options: {title:'Chan Meditation Center'}\n        }\n        uiGmapGoogleMapApi.then(function(maps) {\n        });\n        \n    })\n    \n    \n    .controller('geoCtrl', [\n        '$scope', \n        'GeolocationService', \n        function ($scope, geolocation) {\n            $scope.position = null;\n            $scope.message = \"Determining geolocation...\";\n\n            geolocation().then(\n                function (position) {\n                    $scope.position = position;\n                }, \n                function (reason) {\n                    $scope.message = \"Could not be determined.\"\n                }\n            );\n        }\n    ]);\n    \n    \n/*    .controller('zipCodeCtrl', [\n        '$scope', \n        'ZipCodeLookupSvc', \n        function($scope, ZipCodeLookupSvc) {\n            $scope.zipCode = null;\n            $scope.message = 'Finding zip code...';\n\n            ZipCodeLookupSvc.lookup().then(\n                function(zipCode) {\n                    $scope.zipCode = zipCode;\n                }, \n                function(err) {\n                    $scope.message = err;\n                }\n            );\n        }\n    ]);\n    */\n\n    \n    myApp.factory('GeolocationService', [\n        '$q', \n        '$window', \n        '$rootScope',\n        function($q, $window, $rootScope) {\n            return function() {\n                var deferred = $q.defer();\n\n                if(!$window.navigator) {\n                    $rootScope.$apply(function() {\n                        deferred.reject(new Error('Geolocation is not supported'));\n                    });\n                } \n                else {\n                    $window.navigator.geolocation.getCurrentPosition(function(position) {\n                        $rootScope.$apply(function() {\n                                deferred.resolve(position);\n                                // deferred.resolve({ lat: position.coords.latitude, lng: position.coords.longitude });\n                        });\n                    }, function(error) {\n                        $rootScope.$apply(function() {\n                            deferred.reject(error);\n                        });\n                    });\n                }\n                return deferred.promise;\n            };\n        }\n    ]);\n\n /*  myApp.factory('ZipCodeLookupSvc', [\n    '$q', '$http', 'GeolocationSvc',\n    function($q, $http, GeolocationSvc) {\n      var MAPS_ENDPOINT = 'http://maps.google.com/maps/api/geocode/json?latlng={POSITION}&sensor=false';\n\n      return {\n        urlForLatLng: function(lat, lng) {\n          return MAPS_ENDPOINT.replace('{POSITION}', lat + ',' + lng);\n        },\n\n        lookupByLatLng: function(lat, lng) {\n          var deferred = $q.defer();\n          var url = this.urlForLatLng(lat, lng);\n\n          $http.get(url).success(function(response) {\n            // hacky\n            var zipCode;\n            angular.forEach(response.results, function(result) {\n              if(result.types[0] === 'postal_code') {\n                zipCode = result.address_components[0].short_name;\n              }\n            });\n            deferred.resolve(zipCode);\n          }).error(deferred.reject);\n\n          return deferred.promise;\n        },\n\n        lookup: function() {\n          var deferred = $q.defer();\n          var self = this;\n\n          GeolocationSvc().then(function(position) {\n            deferred.resolve(self.lookupByLatLng(position.lat, position.lng));\n          }, deferred.reject);\n\n          return deferred.promise;\n        }\n      };\n    }\n  ]);\n*/\n\n//  CMC:  40.742683, -73.873578\n\n// API key:\\u0009 AIzaSyCfKe-nvx2gcpQDBlTjLXCQ8TerMHHV0Vw \n// Referers:\\u0009 Any referer allowed \n// Activated on:\\u0009Jan 14, 2015 11:46 AM \n// Activated by:\\u0009johnandrewnewcomb@gmail.com â€“ you \n\n\n// 40.7407323,-73.8756917","undoManager":{"mark":99,"position":100,"stack":[[{"group":"doc","deltas":[{"start":{"row":37,"column":49},"end":{"row":37,"column":51},"action":"insert","lines":["{}"]}]}],[{"group":"doc","deltas":[{"start":{"row":37,"column":50},"end":{"row":39,"column":4},"action":"insert","lines":["","        ","    "]}]}],[{"group":"doc","deltas":[{"start":{"row":38,"column":8},"end":{"row":38,"column":9},"action":"insert","lines":[";"]}]}],[{"group":"doc","deltas":[{"start":{"row":119,"column":32},"end":{"row":119,"column":33},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":119,"column":33},"end":{"row":119,"column":34},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":119,"column":34},"end":{"row":119,"column":35},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":120,"column":34},"end":{"row":120,"column":35},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":120,"column":33},"end":{"row":120,"column":34},"action":"remove","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":120,"column":32},"end":{"row":120,"column":33},"action":"remove","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":120,"column":32},"end":{"row":120,"column":33},"action":"insert","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":120,"column":33},"end":{"row":120,"column":34},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":120,"column":34},"end":{"row":120,"column":35},"action":"insert","lines":["f"]}]}],[{"group":"doc","deltas":[{"start":{"row":120,"column":35},"end":{"row":120,"column":36},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":120,"column":36},"end":{"row":120,"column":37},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":120,"column":37},"end":{"row":120,"column":38},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":120,"column":38},"end":{"row":120,"column":39},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":120,"column":39},"end":{"row":120,"column":40},"action":"insert","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":120,"column":40},"end":{"row":120,"column":41},"action":"insert","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":120,"column":41},"end":{"row":120,"column":42},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":120,"column":42},"end":{"row":120,"column":43},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":120,"column":43},"end":{"row":120,"column":44},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":120,"column":44},"end":{"row":120,"column":45},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":120,"column":45},"end":{"row":120,"column":46},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":120,"column":46},"end":{"row":120,"column":47},"action":"insert","lines":["v"]}]}],[{"group":"doc","deltas":[{"start":{"row":120,"column":47},"end":{"row":120,"column":48},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":120,"column":48},"end":{"row":120,"column":49},"action":"insert","lines":["("]}]}],[{"group":"doc","deltas":[{"start":{"row":121,"column":24},"end":{"row":121,"column":25},"action":"remove","lines":["}"]}]}],[{"group":"doc","deltas":[{"start":{"row":121,"column":20},"end":{"row":121,"column":24},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":121,"column":16},"end":{"row":121,"column":20},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":121,"column":12},"end":{"row":121,"column":16},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":121,"column":8},"end":{"row":121,"column":12},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":121,"column":4},"end":{"row":121,"column":8},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":121,"column":0},"end":{"row":121,"column":4},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":120,"column":114},"end":{"row":121,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":120,"column":115},"end":{"row":120,"column":116},"action":"remove","lines":[";"]}]}],[{"group":"doc","deltas":[{"start":{"row":120,"column":115},"end":{"row":120,"column":116},"action":"insert","lines":[";"]}]}],[{"group":"doc","deltas":[{"start":{"row":126,"column":16},"end":{"row":126,"column":17},"action":"remove","lines":["}"]}]}],[{"group":"doc","deltas":[{"start":{"row":126,"column":16},"end":{"row":126,"column":17},"action":"insert","lines":["}"]},{"start":{"row":126,"column":0},"end":{"row":126,"column":16},"action":"remove","lines":["                "]},{"start":{"row":126,"column":0},"end":{"row":126,"column":20},"action":"insert","lines":["                    "]}]}],[{"group":"doc","deltas":[{"start":{"row":126,"column":20},"end":{"row":126,"column":21},"action":"remove","lines":["}"]}]}],[{"group":"doc","deltas":[{"start":{"row":126,"column":16},"end":{"row":126,"column":20},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":120,"column":32},"end":{"row":120,"column":33},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":120,"column":33},"end":{"row":120,"column":34},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":120,"column":34},"end":{"row":120,"column":35},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":119,"column":34},"end":{"row":119,"column":35},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":119,"column":33},"end":{"row":119,"column":34},"action":"remove","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":119,"column":32},"end":{"row":119,"column":33},"action":"remove","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":126,"column":16},"end":{"row":126,"column":17},"action":"insert","lines":["}"]},{"start":{"row":126,"column":0},"end":{"row":126,"column":16},"action":"remove","lines":["                "]},{"start":{"row":126,"column":0},"end":{"row":126,"column":20},"action":"insert","lines":["                    "]}]}],[{"group":"doc","deltas":[{"start":{"row":127,"column":0},"end":{"row":128,"column":0},"action":"remove","lines":["                return deferred.promise;",""]}]}],[{"group":"doc","deltas":[{"start":{"row":126,"column":16},"end":{"row":126,"column":20},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":126,"column":16},"end":{"row":126,"column":17},"action":"remove","lines":["}"]}]}],[{"group":"doc","deltas":[{"start":{"row":126,"column":16},"end":{"row":126,"column":17},"action":"insert","lines":["}"]},{"start":{"row":126,"column":0},"end":{"row":126,"column":16},"action":"remove","lines":["                "]},{"start":{"row":126,"column":0},"end":{"row":126,"column":20},"action":"insert","lines":["                    "]}]}],[{"group":"doc","deltas":[{"start":{"row":126,"column":20},"end":{"row":126,"column":21},"action":"remove","lines":["}"]}]}],[{"group":"doc","deltas":[{"start":{"row":124,"column":26},"end":{"row":124,"column":27},"action":"remove","lines":[";"]}]}],[{"group":"doc","deltas":[{"start":{"row":124,"column":25},"end":{"row":124,"column":26},"action":"remove","lines":[")"]}]}],[{"group":"doc","deltas":[{"start":{"row":124,"column":24},"end":{"row":124,"column":25},"action":"remove","lines":["}"]}]}],[{"group":"doc","deltas":[{"start":{"row":124,"column":24},"end":{"row":124,"column":25},"action":"insert","lines":["}"]}]}],[{"group":"doc","deltas":[{"start":{"row":124,"column":25},"end":{"row":124,"column":26},"action":"insert","lines":[")"]}]}],[{"group":"doc","deltas":[{"start":{"row":121,"column":40},"end":{"row":122,"column":0},"action":"insert","lines":["",""]},{"start":{"row":122,"column":0},"end":{"row":122,"column":24},"action":"insert","lines":["                        "]}]}],[{"group":"doc","deltas":[{"start":{"row":122,"column":20},"end":{"row":122,"column":24},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":122,"column":16},"end":{"row":122,"column":20},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":122,"column":12},"end":{"row":122,"column":16},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":122,"column":8},"end":{"row":122,"column":12},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":122,"column":4},"end":{"row":122,"column":8},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":122,"column":0},"end":{"row":122,"column":4},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":121,"column":40},"end":{"row":122,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":121,"column":0},"end":{"row":122,"column":0},"action":"insert","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":121,"column":0},"end":{"row":121,"column":4},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":121,"column":4},"end":{"row":121,"column":8},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":121,"column":8},"end":{"row":121,"column":12},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":121,"column":12},"end":{"row":121,"column":16},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":121,"column":16},"end":{"row":121,"column":20},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":121,"column":20},"end":{"row":121,"column":24},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":121,"column":24},"end":{"row":121,"column":25},"action":"insert","lines":["}"]}]}],[{"group":"doc","deltas":[{"start":{"row":121,"column":25},"end":{"row":121,"column":26},"action":"insert","lines":[")"]}]}],[{"group":"doc","deltas":[{"start":{"row":121,"column":26},"end":{"row":121,"column":27},"action":"insert","lines":[";"]}]}],[{"group":"doc","deltas":[{"start":{"row":121,"column":25},"end":{"row":121,"column":26},"action":"remove","lines":[")"]}]}],[{"group":"doc","deltas":[{"start":{"row":121,"column":25},"end":{"row":121,"column":26},"action":"insert","lines":[")"]}]}],[{"group":"doc","deltas":[{"start":{"row":125,"column":26},"end":{"row":125,"column":27},"action":"insert","lines":[";"]}]}],[{"group":"doc","deltas":[{"start":{"row":126,"column":23},"end":{"row":127,"column":0},"action":"insert","lines":["",""]},{"start":{"row":127,"column":0},"end":{"row":127,"column":20},"action":"insert","lines":["                    "]}]}],[{"group":"doc","deltas":[{"start":{"row":127,"column":20},"end":{"row":127,"column":21},"action":"insert","lines":["}"]},{"start":{"row":127,"column":0},"end":{"row":127,"column":20},"action":"remove","lines":["                    "]},{"start":{"row":127,"column":0},"end":{"row":127,"column":16},"action":"insert","lines":["                "]}]}],[{"group":"doc","deltas":[{"start":{"row":127,"column":17},"end":{"row":128,"column":0},"action":"insert","lines":["",""]},{"start":{"row":128,"column":0},"end":{"row":128,"column":16},"action":"insert","lines":["                "]}]}],[{"group":"doc","deltas":[{"start":{"row":128,"column":16},"end":{"row":128,"column":41},"action":"insert","lines":[" return deferred.promise;"]}]}],[{"group":"doc","deltas":[{"start":{"row":128,"column":16},"end":{"row":128,"column":17},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":129,"column":12},"end":{"row":129,"column":16},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":129,"column":8},"end":{"row":129,"column":12},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":129,"column":4},"end":{"row":129,"column":8},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":129,"column":0},"end":{"row":129,"column":4},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":128,"column":40},"end":{"row":129,"column":4},"action":"remove","lines":["","    "]}]}],[{"group":"doc","deltas":[{"start":{"row":120,"column":34},"end":{"row":120,"column":35},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":120,"column":33},"end":{"row":120,"column":34},"action":"remove","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":120,"column":32},"end":{"row":120,"column":33},"action":"remove","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":119,"column":32},"end":{"row":119,"column":33},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":119,"column":33},"end":{"row":119,"column":34},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":119,"column":34},"end":{"row":119,"column":35},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":119,"column":34},"end":{"row":119,"column":35},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":119,"column":33},"end":{"row":119,"column":34},"action":"remove","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":119,"column":32},"end":{"row":119,"column":33},"action":"remove","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":120,"column":32},"end":{"row":120,"column":33},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":120,"column":33},"end":{"row":120,"column":34},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":120,"column":34},"end":{"row":120,"column":35},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":69,"column":44},"end":{"row":69,"column":45},"action":"insert","lines":["o"]}]}]]},"ace":{"folds":[],"scrolltop":1865.5,"scrollleft":0,"selection":{"start":{"row":69,"column":45},"end":{"row":69,"column":45},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1421367623169}