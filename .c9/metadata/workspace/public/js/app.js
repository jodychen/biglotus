{"changed":true,"filter":false,"title":"app.js","tooltip":"/public/js/app.js","value":"/**\n * Created by jodychen on 11/22/14.\n */\n\n// merry christmas, andy's learning git basics\n\nvar myApp = angular.module('myApp',  ['ngRoute', 'ui.bootstrap', 'uiGmapgoogle-maps']);\n\nmyApp\n    .config(function($routeProvider) {\n        $routeProvider\n            .when('/', {\n                templateUrl: 'html/login.html',\n                controller: 'authentication'\n            })\n            .when('/map', {\n                templateUrl: 'html/map.html',\n                controller: 'showMap'\n                // controller: 'zipCodeCtrl'\n                // controller: 'geoCtrl'\n            })\n            .when('/detail/:projId', {\n                templateUrl: 'html/detail-ang.html',\n                controller: 'projectListCtrl'\n            })\n            .otherwise({\n                redirectTo: '/'\n            });\n        console.log('end of config function');\n        })\n    .config(function(uiGmapGoogleMapApiProvider) {\n        uiGmapGoogleMapApiProvider.configure({\n            key: 'AIzaSyCfKe-nvx2gcpQDBlTjLXCQ8TerMHHV0Vw',\n            v: '3.17',\n            libraries: 'weather,geometry,visualization'\n        });\n    })\n   // .config(function(GeolocationServiceProvider) {\n    // ;\n     // })\n    .controller('navCtrl', function ($scope, $log) {\n        $log.log('within nav function');\n        $scope.isCollapsed = true;\n    })\n    .controller('authentication', function ($scope, $routeParams) {\n        $scope.params = $routeParams;\n    })\n    .controller('showMap', [ \n            '$scope', \n            'GeolocationService', \n            function ($scope, $routeParams, uiGmapGoogleMapApi, geolocation) {\n                $scope.params = $routeParams;\n        // $scope.map = { center: { latitude: 40.742683, longitude: -73.873578 }, zoom: 16 };\n\n                $scope.position = null;\n                $scope.message = \"Determining geolocation...\";\n\n                geolocation().then(\n                    function (position) {\n                        $scope.position = position;\n                    }, \n                    function (reason) {\n                        $scope.message = \"Could not be determined.\";\n                    }\n                );\n \n        $scope.map = { center: { latitude: $scope.position.coords.latitude, longitude: $scope.position.coords.latitude }, zoom: 16 };\n\n\n        $scope.marker = {\n            id: 1,\n            coords: {\n                latitude: 40.742683,\n                longitude: -73.873578\n            },\n            options: {title:'Chan Meditation Center'}\n        };\n        uiGmapGoogleMapApi.then(function(maps) {\n        });\n        \n    }\n    ])\n    \n    \n    .controller('geoCtrl', [\n        '$scope', \n        'GeolocationService', \n        function ($scope, geolocation) {\n            $scope.position = null;\n            $scope.message = \"Determining geolocation...\";\n\n            geolocation().then(\n                function (position) {\n                    $scope.position = position;\n                }, \n                function (reason) {\n                    $scope.message = \"Could not be determined.\"\n                }\n            );\n        }\n    ]);\n    \n    \n/*    .controller('zipCodeCtrl', [\n        '$scope', \n        'ZipCodeLookupSvc', \n        function($scope, ZipCodeLookupSvc) {\n            $scope.zipCode = null;\n            $scope.message = 'Finding zip code...';\n\n            ZipCodeLookupSvc.lookup().then(\n                function(zipCode) {\n                    $scope.zipCode = zipCode;\n                }, \n                function(err) {\n                    $scope.message = err;\n                }\n            );\n        }\n    ]);\n    */\n\n    \n    myApp.factory('GeolocationService', [\n        '$q', \n        '$window', \n        '$rootScope',\n        function($q, $window, $rootScope) {\n            return function() {\n                var deferred = $q.defer();\n\n                if(!$window.navigator) {\n                    $rootScope.$apply(function() {\n                        deferred.reject(new Error('Geolocation is not supported'));\n                    });\n                } \n                else {\n                    $window.navigator.geolocation.getCurrentPosition(function(position) {\n                        $rootScope.$apply(function() {\n                                deferred.resolve(position);\n                                // deferred.resolve({ lat: position.coords.latitude, lng: position.coords.longitude });\n                        });\n                    }, function(error) {\n                        $rootScope.$apply(function() {\n                            deferred.reject(error);\n                        });\n                    });\n                }\n                return deferred.promise;\n            };\n        }\n    ]);\n\n /*  myApp.factory('ZipCodeLookupSvc', [\n    '$q', '$http', 'GeolocationSvc',\n    function($q, $http, GeolocationSvc) {\n      var MAPS_ENDPOINT = 'http://maps.google.com/maps/api/geocode/json?latlng={POSITION}&sensor=false';\n\n      return {\n        urlForLatLng: function(lat, lng) {\n          return MAPS_ENDPOINT.replace('{POSITION}', lat + ',' + lng);\n        },\n\n        lookupByLatLng: function(lat, lng) {\n          var deferred = $q.defer();\n          var url = this.urlForLatLng(lat, lng);\n\n          $http.get(url).success(function(response) {\n            // hacky\n            var zipCode;\n            angular.forEach(response.results, function(result) {\n              if(result.types[0] === 'postal_code') {\n                zipCode = result.address_components[0].short_name;\n              }\n            });\n            deferred.resolve(zipCode);\n          }).error(deferred.reject);\n\n          return deferred.promise;\n        },\n\n        lookup: function() {\n          var deferred = $q.defer();\n          var self = this;\n\n          GeolocationSvc().then(function(position) {\n            deferred.resolve(self.lookupByLatLng(position.lat, position.lng));\n          }, deferred.reject);\n\n          return deferred.promise;\n        }\n      };\n    }\n  ]);\n*/\n\n//  CMC:  40.742683, -73.873578\n\n// API key:\\u0009 AIzaSyCfKe-nvx2gcpQDBlTjLXCQ8TerMHHV0Vw \n// Referers:\\u0009 Any referer allowed \n// Activated on:\\u0009Jan 14, 2015 11:46 AM \n// Activated by:\\u0009johnandrewnewcomb@gmail.com â€“ you \n\n\n// 40.7407323,-73.8756917","undoManager":{"mark":99,"position":100,"stack":[[{"group":"doc","deltas":[{"start":{"row":47,"column":41},"end":{"row":47,"column":42},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":47,"column":42},"end":{"row":47,"column":43},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":47,"column":40},"end":{"row":47,"column":43},"action":"remove","lines":["Geo"]},{"start":{"row":47,"column":40},"end":{"row":47,"column":58},"action":"insert","lines":["GeolocationService"]}]}],[{"group":"doc","deltas":[{"start":{"row":47,"column":58},"end":{"row":47,"column":59},"action":"insert","lines":["'"]}]}],[{"group":"doc","deltas":[{"start":{"row":47,"column":59},"end":{"row":47,"column":60},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":47,"column":59},"end":{"row":47,"column":60},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":47,"column":59},"end":{"row":47,"column":60},"action":"insert","lines":[","]}]}],[{"group":"doc","deltas":[{"start":{"row":47,"column":60},"end":{"row":47,"column":61},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":61,"column":5},"end":{"row":62,"column":0},"action":"insert","lines":["",""]},{"start":{"row":62,"column":0},"end":{"row":62,"column":4},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":4},"end":{"row":62,"column":5},"action":"insert","lines":["]"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":35},"end":{"row":44,"column":36},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":34},"end":{"row":44,"column":35},"action":"remove","lines":["["]}]}],[{"group":"doc","deltas":[{"start":{"row":47,"column":111},"end":{"row":47,"column":112},"action":"insert","lines":[","]}]}],[{"group":"doc","deltas":[{"start":{"row":47,"column":112},"end":{"row":47,"column":113},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":47,"column":113},"end":{"row":47,"column":114},"action":"insert","lines":["g"]}]}],[{"group":"doc","deltas":[{"start":{"row":47,"column":114},"end":{"row":47,"column":115},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":47,"column":115},"end":{"row":47,"column":116},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":47,"column":116},"end":{"row":47,"column":117},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":47,"column":117},"end":{"row":47,"column":118},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":47,"column":118},"end":{"row":47,"column":119},"action":"insert","lines":["c"]}]}],[{"group":"doc","deltas":[{"start":{"row":47,"column":119},"end":{"row":47,"column":120},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":47,"column":120},"end":{"row":47,"column":121},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":47,"column":121},"end":{"row":47,"column":122},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":47,"column":122},"end":{"row":47,"column":123},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":47,"column":123},"end":{"row":47,"column":124},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":50,"column":0},"end":{"row":51,"column":0},"action":"insert","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":51,"column":0},"end":{"row":52,"column":0},"action":"insert","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":52,"column":0},"end":{"row":53,"column":0},"action":"insert","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":53,"column":0},"end":{"row":54,"column":0},"action":"insert","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":54,"column":0},"end":{"row":55,"column":0},"action":"insert","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":51,"column":0},"end":{"row":53,"column":0},"action":"insert","lines":["            $scope.position = null;","            $scope.message = \"Determining geolocation...\";",""]}]}],[{"group":"doc","deltas":[{"start":{"row":54,"column":0},"end":{"row":62,"column":1},"action":"insert","lines":["           geolocation().then(","                function (position) {","                    $scope.position = position;","                }, ","                function (reason) {","                    $scope.message = \"Could not be determined.\"","                }","            );"," "]}]}],[{"group":"doc","deltas":[{"start":{"row":63,"column":0},"end":{"row":64,"column":0},"action":"insert","lines":["       $scope.map = { center: { latitude: 40.742683, longitude: -73.873578 }, zoom: 16 };",""]}]}],[{"group":"doc","deltas":[{"start":{"row":63,"column":42},"end":{"row":63,"column":66},"action":"insert","lines":["position.coords.latitude"]}]}],[{"group":"doc","deltas":[{"start":{"row":63,"column":66},"end":{"row":63,"column":75},"action":"remove","lines":["40.742683"]}]}],[{"group":"doc","deltas":[{"start":{"row":63,"column":79},"end":{"row":63,"column":103},"action":"insert","lines":["position.coords.latitude"]}]}],[{"group":"doc","deltas":[{"start":{"row":63,"column":103},"end":{"row":63,"column":113},"action":"remove","lines":["-73.873578"]}]}],[{"group":"doc","deltas":[{"start":{"row":49,"column":8},"end":{"row":49,"column":9},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":49,"column":9},"end":{"row":49,"column":10},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":49,"column":10},"end":{"row":49,"column":11},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":54,"column":10},"end":{"row":54,"column":12},"action":"insert","lines":["  "]}]}],[{"group":"doc","deltas":[{"start":{"row":54,"column":12},"end":{"row":54,"column":13},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":63,"column":6},"end":{"row":63,"column":7},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":63,"column":6},"end":{"row":63,"column":8},"action":"insert","lines":["  "]}]}],[{"group":"doc","deltas":[{"start":{"row":63,"column":43},"end":{"row":63,"column":44},"action":"insert","lines":["$"]}]}],[{"group":"doc","deltas":[{"start":{"row":63,"column":44},"end":{"row":63,"column":45},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":63,"column":45},"end":{"row":63,"column":46},"action":"insert","lines":["c"]}]}],[{"group":"doc","deltas":[{"start":{"row":63,"column":46},"end":{"row":63,"column":47},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":63,"column":47},"end":{"row":63,"column":48},"action":"insert","lines":["p"]}]}],[{"group":"doc","deltas":[{"start":{"row":63,"column":48},"end":{"row":63,"column":49},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":63,"column":49},"end":{"row":63,"column":50},"action":"insert","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":63,"column":87},"end":{"row":63,"column":88},"action":"insert","lines":["$"]}]}],[{"group":"doc","deltas":[{"start":{"row":63,"column":88},"end":{"row":63,"column":89},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":63,"column":89},"end":{"row":63,"column":90},"action":"insert","lines":["c"]}]}],[{"group":"doc","deltas":[{"start":{"row":63,"column":90},"end":{"row":63,"column":91},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":63,"column":91},"end":{"row":63,"column":92},"action":"insert","lines":["p"]}]}],[{"group":"doc","deltas":[{"start":{"row":63,"column":92},"end":{"row":63,"column":93},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":63,"column":93},"end":{"row":63,"column":94},"action":"insert","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":47,"column":29},"end":{"row":48,"column":0},"action":"insert","lines":["",""]},{"start":{"row":48,"column":0},"end":{"row":48,"column":8},"action":"insert","lines":["        "]}]}],[{"group":"doc","deltas":[{"start":{"row":48,"column":8},"end":{"row":48,"column":12},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":48,"column":22},"end":{"row":49,"column":0},"action":"insert","lines":["",""]},{"start":{"row":49,"column":0},"end":{"row":49,"column":12},"action":"insert","lines":["            "]}]}],[{"group":"doc","deltas":[{"start":{"row":49,"column":34},"end":{"row":50,"column":0},"action":"insert","lines":["",""]},{"start":{"row":50,"column":0},"end":{"row":50,"column":12},"action":"insert","lines":["            "]}]}],[{"group":"doc","deltas":[{"start":{"row":51,"column":7},"end":{"row":51,"column":8},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":51,"column":8},"end":{"row":51,"column":12},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":51,"column":12},"end":{"row":51,"column":16},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":54,"column":12},"end":{"row":54,"column":16},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":54,"column":16},"end":{"row":54,"column":20},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":54,"column":16},"end":{"row":54,"column":20},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":51,"column":16},"end":{"row":51,"column":17},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":55,"column":12},"end":{"row":55,"column":16},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":57,"column":12},"end":{"row":57,"column":16},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":58,"column":16},"end":{"row":58,"column":20},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":59,"column":20},"end":{"row":59,"column":24},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":60,"column":16},"end":{"row":60,"column":20},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":61,"column":16},"end":{"row":61,"column":20},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":20},"end":{"row":62,"column":24},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":63,"column":16},"end":{"row":63,"column":20},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":64,"column":12},"end":{"row":64,"column":16},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":37,"column":5},"end":{"row":37,"column":6},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":37,"column":4},"end":{"row":37,"column":5},"action":"remove","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":37,"column":3},"end":{"row":37,"column":4},"action":"remove","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":38,"column":2},"end":{"row":38,"column":3},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":38,"column":1},"end":{"row":38,"column":2},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":38,"column":5},"end":{"row":38,"column":6},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":38,"column":4},"end":{"row":38,"column":5},"action":"remove","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":38,"column":3},"end":{"row":38,"column":4},"action":"remove","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":39,"column":5},"end":{"row":39,"column":6},"action":"remove","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":39,"column":4},"end":{"row":39,"column":5},"action":"remove","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":39,"column":0},"end":{"row":39,"column":4},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":39,"column":0},"end":{"row":39,"column":4},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":37,"column":3},"end":{"row":37,"column":4},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":37,"column":4},"end":{"row":37,"column":5},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":37,"column":5},"end":{"row":37,"column":6},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":38,"column":4},"end":{"row":38,"column":6},"action":"insert","lines":["''"]}]}],[{"group":"doc","deltas":[{"start":{"row":38,"column":4},"end":{"row":38,"column":6},"action":"remove","lines":["''"]}]}],[{"group":"doc","deltas":[{"start":{"row":38,"column":4},"end":{"row":38,"column":5},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":38,"column":5},"end":{"row":38,"column":6},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":39,"column":5},"end":{"row":39,"column":6},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":39,"column":6},"end":{"row":39,"column":7},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":39,"column":7},"end":{"row":39,"column":8},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":67},"end":{"row":62,"column":68},"action":"insert","lines":[";"]}]}]]},"ace":{"folds":[],"scrolltop":791.5,"scrollleft":0,"selection":{"start":{"row":64,"column":14},"end":{"row":64,"column":14},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":48,"state":"start","mode":"ace/mode/javascript"}},"timestamp":1421371913955}